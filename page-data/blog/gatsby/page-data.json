{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/gatsby/","result":{"data":{"markdownRemark":{"html":"<p>清貧を自称する割に外車SUVを乗り回す憧れのエンジニア <a href=\"https://portalshit.net/morygonzalez\">@morygonzalez</a> 氏が<a href=\"https://portalshit.net/2020/09/04/the-internet-jomon-period\">ウェブ縄文時代の到来</a> という記事を書いていたのに感銘を受けて私も縄文時代をお迎えすることにした。</p>\n<p>私もプラットフォーム依存から脱却して安心を得たい。GoogleのbloggerからGatsbyJSで縄文土器もといマイブログを作ることにした。</p>\n<p>GatsbyJSを選んだのは最近良くjavascriptを書くからでHUGOにするかすこし迷った。</p>\n<p>Markdownでブログを書いたことがなかったので今回初挑戦。\nメモはscrapboxをいつも利用させていただいているので <a href=\"https://github.com/progfay/scrapbox-parser\">https://github.com/progfay/scrapbox-parser</a> を使ってscrapboxからコピペでブログ記事にできるようにしたいと考えている。</p>\n<p>ブログは極力シンプルにしたかったので <a href=\"https://github.com/gatsbyjs/gatsby-starter-default\">gatsby-starter-default</a> ではなく <a href=\"https://github.com/gatsbyjs/gatsby-starter-hello-world\">gatsby-starter-hello-world</a> から始めた。</p>\n<p>やったことは次の通り。</p>\n<ul>\n<li>bloggerからxmlをエクスポートしてmarkdownに変換\n<a href=\"https://github.com/palaniraja/blog2md\">blog2md</a></li>\n<li>Gatsbyを整えてmarkdownファイルを置く</li>\n<li>github pagesで公開してカスタムドメインを設定</li>\n</ul>\n<h3>良かった点</h3>\n<ul>\n<li>graphQL便利</li>\n<li>gatsbyは静的サイトジェネレーターとしてよくできてる</li>\n<li>シンプルにしたので表示速度速くなった</li>\n</ul>\n<h3>イマイチな点</h3>\n<ul>\n<li>ローカルのgatsby serverが時々cache関連でバグる</li>\n<li>github pagesは商用OKだと思ってたけど違うかもなのでnetlifyに移行しなきゃいけないかも </li>\n</ul>\n<h3>Gatsbyで使った主なプラグイン</h3>\n<p><code class=\"language-text\">react-helmet</code> meta tagをいじるのに使う</p>\n<p><code class=\"language-text\">styled-components</code> CSS in JSでコンポーネントにスタイルを施す</p>\n<p> <code class=\"language-text\">gatsby-plugin-feed</code>  RSSは必須</p>\n<p>  <code class=\"language-text\">gatsby-plugin-typography</code> いい感じに文書のレイアウトを作ってくれる</p>\n<p>  <code class=\"language-text\">gatsby-remark-prismjs</code> シンタックスハイライト</p>\n<p>   こんなの</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useStaticQuery<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> Img <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby-image\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Image</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">useStaticQuery</span><span class=\"token punctuation\">(</span>graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n query {\n   placeholderImage: file(relativePath: { eq: \"gatsby-astronaut.png\" }) {\n     childImageSharp {\n       fluid(maxWidth: 300) {\n         ...GatsbyImageSharpFluid\n       }\n     }\n   }\n }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>data<span class=\"token operator\">?.</span>placeholderImage<span class=\"token operator\">?.</span>childImageSharp<span class=\"token operator\">?.</span>fluid<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Picture not found</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Img</span></span> <span class=\"token attr-name\">fluid</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>placeholderImage<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Image</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>リポジトリ</h3>\n<p><a href=\"https://github.com/drobune/weblog\">https://github.com/drobune/weblog</a></p>\n<p>細かいメモはそれぞれ記事にする。\nしばらくこんな感じでやってみる</p>","frontmatter":{"date":"2020-10-31","slug":"/blog/gatsby","title":"ウェブ縄文時代入門","image":null,"tags":["javascript","blog","gatsby"]}}},"pageContext":{"slug":"/blog/gatsby"}},"staticQueryHashes":["1342192543"]}