<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.5625 'Noto Sans JP',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Noto Sans JP',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Noto Sans JP',serif;font-weight:400;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Noto Sans JP',serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Noto Sans JP',serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Noto Sans JP',serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Noto Sans JP',serif;font-weight:400;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Noto Sans JP',serif;font-weight:400;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}ul{margin-left:1.5625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.5625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:0.85rem;line-height:1.5625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:1rem;line-height:1.5625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}blockquote{margin-left:0;margin-right:1.5625rem;margin-top:0;padding-bottom:0;padding-left:1.75781rem;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:1.1487rem;line-height:1.5625rem;color:hsla(0,0%,0%,0.59);border-left:0.58594rem solid;border-color:#fcea0e;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.5625rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.5625rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.5625rem;margin-bottom:calc(1.5625rem / 2);margin-top:calc(1.5625rem / 2);}li > ul{margin-left:1.5625rem;margin-bottom:calc(1.5625rem / 2);margin-top:calc(1.5625rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.5625rem / 2);}code{font-size:0.85rem;line-height:1.5625rem;}kbd{font-size:0.85rem;line-height:1.5625rem;}samp{font-size:0.85rem;line-height:1.5625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.04167rem;padding-right:1.04167rem;padding-top:0.78125rem;padding-bottom:calc(0.78125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#fb251b;text-decoration:none;}a:hover,a:active{color:hsla(0,0%,0%,0.8);}h1,h2,h3,h4,h5,h6{margin-top:3.125rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.5625rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.17188rem;margin-right:0;border-left:0.29297rem solid;border-color:#fcea0e;padding-left:0.87891rem;}}</style><meta data-react-helmet="true" name="twitter:creator" content="@drobune"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">Rails3系でのssl検証 - ブラウザのsslは無効にできない？ - ━━━━━ DROBUNE Weblog</title><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><meta data-react-helmet="true" name="msapplication-TileColor" content="#da532c"/><meta data-react-helmet="true" name="theme-color" content="#ffffff"/><meta data-react-helmet="true" name="description" content="Programming, Surfing, Snowboard, Trail, Spearfishing, Free-diving, ..."/><meta data-react-helmet="true" property="og:title" content="Rails3系でのssl検証 - ブラウザのsslは無効にできない？ -"/><meta data-react-helmet="true" property="og:description" content="Programming, Surfing, Snowboard, Trail, Spearfishing, Free-diving, ..."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image" content="https://blog.drobune.nl/blog_logo.jpg"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.drobune.nl/blog_logo.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta name="generator" content="Gatsby 2.25.4"/><meta data-react-helmet="true" name="twitter:title" content="Rails3系でのssl検証 - ブラウザのsslは無効にできない？ -"/><meta data-react-helmet="true" name="twitter:description" content="Programming, Surfing, Snowboard, Trail, Spearfishing, Free-diving, ..."/><style data-styled="" data-styled-version="5.2.1">.Qkfab{color:black;line-height:8vh;}/*!sc*/
data-styled.g1[id="navBar__Logo-sc-1pzjae9-0"]{content:"Qkfab,"}/*!sc*/
.CgUkV{-webkit-text-decoration:none;text-decoration:none;color:red;display:inline-block;white-space:nowrap;margin:0 1vw;-webkit-transition:all 200ms ease-in;transition:all 200ms ease-in;position:relative;}/*!sc*/
.CgUkV:after{position:absolute;bottom:0;left:0;right:0;width:0%;content:".";color:transparent;background:goldenrod;height:1px;-webkit-transition:all 0.4s ease-in;transition:all 0.4s ease-in;}/*!sc*/
.CgUkV:hover{color:black;}/*!sc*/
.CgUkV:hover::after{width:100%;}/*!sc*/
@media (max-width:768px){.CgUkV{padding:20px 0;font-size:1.5rem;z-index:6;}}/*!sc*/
data-styled.g2[id="navBar__NavItem-sc-1pzjae9-1"]{content:"CgUkV,"}/*!sc*/
.bUWPbo{height:10vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background-color:#fff;position:relative;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;text-transform:uppercase;border-bottom:2px solid #33333320;margin:0 auto;padding:0 5vw;z-index:2;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;}/*!sc*/
@media (max-width:768px){.bUWPbo{position:-webkit-sticky;position:sticky;height:8vh;top:0;left:0;right:0;left:0;}}/*!sc*/
data-styled.g3[id="navBar__Navigation-sc-1pzjae9-2"]{content:"bUWPbo,"}/*!sc*/
.IcAql{display:none;height:100%;cursor:pointer;padding:0 2vw;}/*!sc*/
@media (max-width:768px){.IcAql{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
data-styled.g4[id="navBar__Toggle-sc-1pzjae9-3"]{content:"IcAql,"}/*!sc*/
.eHtfng{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:768px){.eHtfng{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:fixed;width:100%;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding-top:10vh;background-color:#fff;-webkit-transition:all 0.3s ease-in;transition:all 0.3s ease-in;top:8vh;left:-100%;}}/*!sc*/
data-styled.g5[id="navBar__Navbox-sc-1pzjae9-4"]{content:"eHtfng,"}/*!sc*/
.dPzTdo{background-color:#111;width:30px;height:3px;-webkit-transition:all .3s linear;transition:all .3s linear;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;position:relative;-webkit-transform:inherit;-ms-transform:inherit;transform:inherit;}/*!sc*/
.dPzTdo::before,.dPzTdo::after{width:30px;height:3px;background-color:#111;content:"";position:absolute;-webkit-transition:all 0.3s linear;transition:all 0.3s linear;}/*!sc*/
.dPzTdo::before{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);top:-10px;}/*!sc*/
.dPzTdo::after{opacity:1;-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);top:10px;}/*!sc*/
data-styled.g6[id="navBar__Hamburger-sc-1pzjae9-5"]{content:"dPzTdo,"}/*!sc*/
.cqYIkx{margin:0 auto;max-width:650px;padding:0 1rem;}/*!sc*/
data-styled.g7[id="layout__BodyContainer-sc-1k7q7u2-0"]{content:"cqYIkx,"}/*!sc*/
.guYTBu{margin:1rem 0;}/*!sc*/
data-styled.g8[id="blogTemplate__GoToTop-sc-16qddwq-0"]{content:"guYTBu,"}/*!sc*/
</style><style data-href="/styles.9209246997406159df0f.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{position:relative;margin:.5em 0;overflow:visible;padding:0}pre[class*=language-]>code{position:relative;border-left:10px solid #358ccb;box-shadow:-1px 0 0 0 #358ccb,0 0 0 1px #dfdfdf;background-color:#fdfdfd;background-image:linear-gradient(transparent 50%,rgba(69,142,209,.04) 0);background-size:3em 3em;background-origin:content-box;background-attachment:local}code[class*=language-]{max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdfdfd;box-sizing:border-box;margin-bottom:1em}:not(pre)>code[class*=language-]{position:relative;padding:.2em;border-radius:.3em;color:#c92c2c;border:1px solid rgba(0,0,0,.1);display:inline;white-space:normal}pre[class*=language-]:after,pre[class*=language-]:before{content:"";z-index:-2;display:block;position:absolute;bottom:.75em;left:.18em;width:40%;height:20%;max-height:13em;box-shadow:0 13px 8px #979797;transform:rotate(-2deg)}pre[class*=language-]:after{right:.75em;left:auto;transform:rotate(2deg)}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#7d8b99}.token.punctuation{color:#5f6364}.token.boolean,.token.constant,.token.deleted,.token.function-name,.token.number,.token.property,.token.symbol,.token.tag{color:#c92c2c}.token.attr-name,.token.builtin,.token.char,.token.function,.token.inserted,.token.selector,.token.string{color:#2f9c0a}.token.entity,.token.operator,.token.url,.token.variable{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.class-name,.token.keyword{color:#1990b8}.token.important,.token.regex{color:#e90}.language-css .token.string,.style .token.string{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.important{font-weight:400}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.namespace{opacity:.7}@media screen and (max-width:767px){pre[class*=language-]:after,pre[class*=language-]:before{bottom:14px;box-shadow:none}}pre[class*=language-].line-numbers.line-numbers{padding-left:0}pre[class*=language-].line-numbers.line-numbers code{padding-left:3.8em}pre[class*=language-].line-numbers.line-numbers .line-numbers-rows{left:0}pre[class*=language-][data-line]{padding-top:0;padding-bottom:0;padding-left:0}pre[data-line] code{position:relative;padding-left:4em}pre .line-highlight{margin-top:0}.video-container{position:relative;padding-bottom:56.25%;padding-top:30px;height:0;overflow:hidden}.video-container embed,.video-container iframe,.video-container object{position:absolute;top:0;left:0;width:100%;height:100%}</style><link href="//fonts.googleapis.com/css?family=Source+Serif+Pro:600|Source+Sans+Pro:400,400i,700|Noto+Sans+JP:400" rel="stylesheet" type="text/css"/><link rel="alternate" type="application/rss+xml" title="Your Site&#x27;s RSS Feed" href="https://feeds.feedburner.com/gatsby/blog"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/component---src-templates-blog-template-tsx-abd36dbe06aa1d7701fb.js"/><link as="script" rel="preload" href="/commons-4f4550e7b80626ba11e2.js"/><link as="script" rel="preload" href="/framework-de237a875aa45b276a9d.js"/><link as="script" rel="preload" href="/app-ee79597a05e22d56fbb5.js"/><link as="script" rel="preload" href="/webpack-runtime-1d72387223193fbcecce.js"/><link as="fetch" rel="preload" href="/page-data/blog/fc131408b78fb50e8269/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1342192543.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><nav class="navBar__Navigation-sc-1pzjae9-2 bUWPbo"><a class="navBar__Logo-sc-1pzjae9-0 Qkfab" href="/">Drobune Weblog</a><div class="navBar__Toggle-sc-1pzjae9-3 IcAql"><div class="navBar__Hamburger-sc-1pzjae9-5 dPzTdo"></div></div><div open="" class="navBar__Navbox-sc-1pzjae9-4 eHtfng"><a href="https://drobune.nl" class="navBar__NavItem-sc-1pzjae9-1 CgUkV">Profile</a><a class="navBar__NavItem-sc-1pzjae9-1 CgUkV" href="/404">Gallery</a><a href="https://drobune.nl" class="navBar__NavItem-sc-1pzjae9-1 CgUkV">Contact</a></div></nav><div class="layout__BodyContainer-sc-1k7q7u2-0 cqYIkx"><div><div class="blog-post"><h1>Rails3系でのssl検証 - ブラウザのsslは無効にできない？ -</h1><h2>2014-05-07</h2><div class="blog-post-content"><h3>
<span id="背景" class="fragment"></span><a href="#%E8%83%8C%E6%99%AF"><i class="fa fa-link"></i></a>背景</h3>
<hr>
<p>Railsでsslを常に使ってて、ドメイン内で一部sslを適用したくないところがあり、<br><br>
いろいろ検証してみました。<br><br>
とりあえずsslを無効にしてアクセスしてみようとしたらハマった。  </p>
<h3>
<span id="メモ" class="fragment"></span><a href="#%E3%83%A1%E3%83%A2"><i class="fa fa-link"></i></a>メモ</h3>
<hr>
<p>最近のブラウザでtlsの無効/有効を設定できるけど<br><br>
sslを無効にするやり方がみつからない。  </p>
<p>ブラウザのバージョン下げるのもめんどうなので、CUIでやっちゃおう。</p>
<p>wgetのヘルプをみると、、、  </p>
<div class="code-frame" data-lang="text"><div class="highlight"><pre>GNU Wget 1.13.4, 非対話的ネットワーク転送ソフト
使い方: wget [オプション]... [URL]...
<p>長いオプションで不可欠な引数は短いオプションでも不可欠です。</p>
<p>スタートアップ:
-V,  --version           バージョン情報を表示して終了する
-h,  --help              このヘルプを表示する
-b,  --background        スタート後にバックグラウンドに移行する
-e,  --execute=COMMAND   `.wgetrc'形式のコマンドを実行する</p>
<p>ログと入力ファイル:
-o,  --output-file=FILE    ログを FILE に出力する
-a,  --append-output=FILE  メッセージを FILE に追記する
-d,  --debug               デバッグ情報を表示する
-q,  --quiet               何も出力しない
-v,  --verbose             冗長な出力をする (デフォルト)
-nv, --no-verbose          冗長ではなくする
-i,  --input-file=FILE     FILE の中に指定された URL をダウンロードする
-F,  --force-html          入力ファイルを HTML として扱う
-B,  --base=URL            HTML で入力されたファイル(-i -F)のリンクを
指定した URL の相対 URL として扱う
--config=FILE         設定ファイルを指定する</p>
<p>ダウンロード:
-t,  --tries=NUMBER            リトライ回数の上限を指定 (0 は無制限).
--retry-connrefused       接続を拒否されてもリトライする
-O,  --output-document=FILE    FILE に文書を書きこむ
-nc, --no-clobber              存在しているファイルをダウンロードで上書きしない
-c,  --continue                部分的にダウンロードしたファイルの続きから始める
--progress=TYPE           進行表示ゲージの種類を TYPE に指定する
-N,  --timestamping            ローカルにあるファイルよりも新しいファイルだけ取得する
--no-use-server-timestamps     ローカル側のファイルのタイムスタンプに
サーバのものを使わない
-S,  --server-response         サーバの応答を表示する
--spider                  何もダウンロードしない
-T,  --timeout=SECONDS         全てのタイムアウトを SECONDS 秒に設定する
--dns-timeout=SECS        DNS 問い合わせのタイムアウトを SECS 秒に設定する
--connect-timeout=SECS    接続タイムアウトを SECS 秒に設定する
--read-timeout=SECS       読み込みタイムアウトを SECS 秒に設定する
-w,  --wait=SECONDS            ダウンロード毎に SECONDS 秒待つ
--waitretry=SECONDS       リトライ毎に 1〜SECONDS 秒待つ
--random-wait             ダウンロード毎に 0.5<em>WAIT〜1.5</em>WAIT 秒待つ
--no-proxy                プロクシを使わない
-Q,  --quota=NUMBER            ダウンロードするバイト数の上限を指定する
--bind-address=ADDRESS    ローカルアドレスとして ADDRESS (ホスト名か IP) を使う
--limit-rate=RATE         ダウンロード速度を RATE に制限する
--no-dns-cache            DNS の問い合わせ結果をキャッシュしない
--restrict-file-names=OS  OS が許しているファイル名に制限する
--ignore-case             ファイル名/ディレクトリ名の比較で大文字小文字を無視する
-4,  --inet4-only              IPv4 だけを使う
-6,  --inet6-only              IPv6 だけを使う
--prefer-family=FAMILY    指定したファミリ(IPv6, IPv4, none)で最初に接続する
--user=USER               ftp, http のユーザ名を指定する
--password=PASS           ftp, http のパスワードを指定する
--ask-password            パスワードを別途入力する
--no-iri                  IRI サポートを使わない
--local-encoding=ENC      指定した ENC を IRI のローカルエンコーディングにする
--remote-encoding=ENC     指定した ENC をデフォルトのリモートエンコーディングにする
--unlink                  上書きする前にファイルを削除する</p>
<p>ディレクトリ:
-nd, --no-directories           ディレクトリを作らない
-x,  --force-directories        ディレクトリを強制的に作る
-nH, --no-host-directories      ホスト名のディレクトリを作らない
--protocol-directories     プロトコル名のディレクトリを作る
-P,  --directory-prefix=PREFIX  ファイルを PREFIX/ 以下に保存する
--cut-dirs=NUMBER          リモートディレクトリ名の NUMBER 階層分を無視する</p>
<p>HTTP オプション:
--http-user=USER        http ユーザ名として USER を使う
--http-password=PASS    http パスワードとして PASS を使う
--no-cache              サーバがキャッシュしたデータを許可しない
--default-page=NAME     デフォルトのページ名を NAME に変更します
通常は <code class="language-text">index.html&#39; です
  -E,  --adjust-extension      HTML/CSS 文書は適切な拡張子で保存する
       --ignore-length</code>Content-Length' ヘッダを無視する
--header=STRING         送信するヘッダに STRING を追加する
--max-redirect          ページで許可する最大転送回数
--proxy-user=USER       プロクシユーザ名として USER を使う
--proxy-password=PASS   プロクシパスワードとして PASS を使う
--referer=URL           Referer を URL に設定する
--save-headers          HTTP のヘッダをファイルに保存する
-U,  --user-agent=AGENT      User-Agent として Wget/VERSION ではなく AGENT を使う
--no-http-keep-alive    HTTP の keep-alive (持続的接続) 機能を使わない
--no-cookies            クッキーを使わない
--load-cookies=FILE     クッキーを FILE から読みこむ
--save-cookies=FILE     クッキーを FILE に保存する
--keep-session-cookies  セッションだけで用いるクッキーを保持する
--post-data=STRING      POST メソッドを用いて STRING を送信する
--post-file=FILE        POST メソッドを用いて FILE の中味を送信する
--content-disposition   Content-Disposition ヘッダがあれば
ローカルのファイル名として用いる (実験的)
--auth-no-challenge     サーバからのチャレンジを待たずに、
Basic認証の情報を送信します。</p>
<p>HTTPS (SSL/TLS) オプション:
--secure-protocol=PR     セキュアプロトコルを選択する (auto, SSLv2, SSLv3, TLSv1)
--no-check-certificate   サーバ証明書を検証しない
--certificate=FILE       クライアント証明書として FILE を使う
--certificate-type=TYPE  クライアント証明書の種類を TYPE (PEM, DER) に設定する
--private-key=FILE       秘密鍵として FILE を使う
--private-key-type=TYPE  秘密鍵の種類を TYPE (PEM, DER) に設定する
--ca-certificate=FILE    CA 証明書として FILE を使う
--ca-directory=DIR       CA のハッシュリストが保持されているディレクトリを指定する
--random-file=FILE       SSL PRNG の初期化データに使うファイルを指定する
--egd-file=FILE          EGD ソケットとして FILE を使う</p>
<p>FTP オプション:
--ftp-user=USER         ftp ユーザとして USER を使う
--ftp-password=PASS     ftp パスワードとして PASS を使う
--no-remove-listing     `.listing' ファイルを削除しない
--no-glob               FTP ファイル名のグロブを無効にする
--no-passive-ftp        "passive" 転送モードを使わない
--retr-symlinks         再帰取得中に、シンボリックリンクでリンクされた先のファイルを取得する</p>
<p>再帰ダウンロード:
-r,  --recursive          再帰ダウンロードを行う
-l,  --level=NUMBER       再帰時の階層の最大の深さを NUMBER に設定する (0 で無制限)
--delete-after       ダウンロード終了後、ダウンロードしたファイルを削除する
-k,  --convert-links      HTML や CSS 中のリンクをローカルを指すように変更する
-K,  --backup-converted   リンク変換前のファイルを .orig として保存する
-m,  --mirror             -N -r -l 0 --no-remove-listing の省略形
-p,  --page-requisites    HTML を表示するのに必要な全ての画像等も取得する
--strict-comments    HTML 中のコメントの処理を厳密にする</p>
<p>再帰ダウンロード時のフィルタ:
-A,  --accept=LIST               ダウンロードする拡張子をコンマ区切りで指定する
-R,  --reject=LIST               ダウンロードしない拡張子をコンマ区切りで指定する
-D,  --domains=LIST              ダウンロードするドメインをコンマ区切りで指定する
--exclude-domains=LIST      ダウンロードしないドメインをコンマ区切りで指定する
--follow-ftp                HTML 文書中の FTP リンクも取得対象にする
--follow-tags=LIST          取得対象にするタグ名をコンマ区切りで指定する
--ignore-tags=LIST          取得対象にしないタグ名をコンマ区切りで指定する
-H,  --span-hosts                再帰中に別のホストもダウンロード対象にする
-L,  --relative                  相対リンクだけ取得対象にする
-I,  --include-directories=LIST  取得対象にするディレクトリを指定する
--trust-server-names  ファイル名としてリダイレクト先のURLの最後の部分を使う
-X,  --exclude-directories=LIST  取得対象にしないディレクトリを指定する
-np, --no-parent                 親ディレクトリを取得対象にしない</p>
<p>バグ報告や提案は&#x26;lt;bug-wget@gnu.org&#x26;gt;へ</p>
</pre></div></div>
<p>うーん、できなさそう。。。<br><br>
getできるか見たいだけだし、もうsslが無効のプロキシサーバを使ってみよう。  </p>
<p><a href="http://www.freeproxylists.net/ja/" rel="nofollow noopener" target="_blank">ここ</a>をつかって<br><br>
<a href="http://sitedo3.s3.amazonaws.com/2013/09/freeproxylist.png" rel="nofollow noopener" target="_blank"><img src="http://sitedo3.s3.amazonaws.com/2013/09/freeproxylist-300x191.png" alt="freeproxylist" width="300" height="191" data-canonical-src="http://sitedo3.s3.amazonaws.com/2013/09/freeproxylist-300x191.png" loading="lazy"></a></p>
<div class="code-frame" data-lang="text"><div class="highlight"><pre>wget -e 'http_proxy=[proxyサーバのアドレス]' xxx.com
<p>スパイダーモードが有効です。リモートファイルが存在してるか確認します。
--2013-09-26 13:33:06--  <a href="http://box2you.com/">http://box2you.com/</a>
31.170.178.2:8080 に接続しています... 接続しました。
Proxy による接続要求を送信しました、応答を待っています... 301 Moved Permanently
場所: <a href="https://www.xxxxx.com/">https://www.xxxxx.com/</a> [続く]
スパイダーモードが有効です。リモートファイルが存在してるか確認します。
--2013-09-26 13:33:08--  <a href="https://www.xxxxx.com/">https://www.xxxxx.com/</a>
www.xxxxx.com (www.xxxxx.com) をDNSに問いあわせています...xxx.xxx.xxx.
www.xxxxx.com (www.xxxxx.com)|xxxx|:443 に接続しています... 接続しました。
HTTP による接続要求を送信しました、応答を待っています... 200 OK
長さ: 33221 (32K) [text/html]
リモートファイルが存在し、さらなるリンクもあり得ますが、再帰が禁止されています -- 取得しません。</p>
</pre></div></div>
<p>だめじゃん。ポート443でhttpsしてんじゃん。  </p>
<p>もはやクライアントではsslが有効なのは常識なのか、、、<br><br>
サーバサイドだけ考えればいいのね。じゃ、この検証はスルー、、、<strong>できるかい！！</strong></p>
<p>ここまできたら気になるわ。<br><br>
めんどいけどhttpクライアントを使ってやろう。  </p>
<p>下のようにrubyのgem'faraday'を使ってやりました。  </p>
<div class="code-frame" data-lang="text"><div class="highlight"><pre>pry(main)&gt; Faraday::Connection.new('http://box2you.com',ssl:{verify:true}).get
=&gt; #&lt;Faraday::Response:0x00000002de94f8
 @env=
  {:method=&gt;:get,
   :body=&gt;
    "Redirecting to &lt;a href=\"https://www.box2you.com/\"&gt;https://www.box2you.com/&lt;/a&gt;",
   :url=&gt;#&lt;URI::HTTP:0x00000002dd90d0 URL:http://box2you.com/&gt;,
   :request_headers=&gt;{"User-Agent"=&gt;"Faraday v0.8.7"},
   :parallel_manager=&gt;nil,
   :request=&gt;{:proxy=&gt;nil},
   :ssl=&gt;{:verify=&gt;true},
   :status=&gt;301,
   :response_headers=&gt;
    {"server"=&gt;"nginx",
     "date"=&gt;"Thu, 26 Sep 2013 07:05:20 GMT",
     "content-type"=&gt;"application/x-msdownload",
     "content-length"=&gt;"78",
     "connection"=&gt;"close",
     "location"=&gt;"https://www.box2you.com/"},
   :response=&gt;#&lt;Faraday::Response:0x00000002de94f8 ...&gt;},
 @on_complete_callbacks=[]&gt;
</pre></div></div>
<p>うーん？思ってたのと違うけど、できた。  </p>
<p>どうやらRailsで全リソースをSSL対応させると、<br><br>
httpのみでアクセスしたときもhttpsにリダイレクトされるみたい。  </p>
<p>これは困った。<br><br>
下の記事を参考にアクション毎にコントロールするか。。。。  </p>
<p><a href="http://o.inchiki.jp/obbr/24" rel="nofollow noopener" target="_blank">RailsでSSLを利用するときのあれこれ</a></p></div></div><span><a href="/tags/Rails">#<!-- -->Rails<!-- -->  </a></span><span><a href="/tags/SSL">#<!-- -->SSL<!-- -->  </a></span><div class="blogTemplate__GoToTop-sc-16qddwq-0 guYTBu"><a href="/">Go to top page</a></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-102174140-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-102174140-1', 'drobune.nl', {"sampleRate":5,"siteSpeedSampleRate":10});
      ga('set', 'anonymizeIp', true);
      ga('require', '');
      ga('set', 'expId', '');
      ga('set', 'expVar', '');
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/fc131408b78fb50e8269/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-8f27f34e33d6936c0c6c.js"],"app":["/app-ee79597a05e22d56fbb5.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-4c4973628feb419444ee.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-bd43bb996748558c658f.js"],"component---src-pages-tags-tsx":["/component---src-pages-tags-tsx-4ecd5c152facbbf87852.js"],"component---src-templates-blog-template-tsx":["/component---src-templates-blog-template-tsx-abd36dbe06aa1d7701fb.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-df4781e5f81cd8695140.js"]};/*]]>*/</script><script src="/polyfill-8f27f34e33d6936c0c6c.js" nomodule=""></script><script src="/webpack-runtime-1d72387223193fbcecce.js" async=""></script><script src="/app-ee79597a05e22d56fbb5.js" async=""></script><script src="/framework-de237a875aa45b276a9d.js" async=""></script><script src="/commons-4f4550e7b80626ba11e2.js" async=""></script><script src="/component---src-templates-blog-template-tsx-abd36dbe06aa1d7701fb.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script></body></html>